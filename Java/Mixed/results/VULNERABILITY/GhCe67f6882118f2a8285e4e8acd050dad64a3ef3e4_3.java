class GhCe67f6882118f2a8285e4e8acd050dad64a3ef3e4_3{
/**
     * Set the specified request attribute to the specified value.
     *
     * @param name  Name of the request attribute to set
     * @param value The associated value
     */
    public void setAttribute(String name, Object value) {


        Object oldValue = null;
        boolean replaced = false;


        oldValue = attributes.put(name, value);
        if (oldValue != null) {
            replaced = true;
        }

        // Notify interested application event listeners
        Object listeners[] = context.getApplicationEventListeners();
        if ((listeners == null) || (listeners.length == 0))
            return;
        ServletRequestAttributeEvent event = null;
        if (replaced)
            event =
                    new ServletRequestAttributeEvent(context.getServletContext(),
                            getRequest(), name, oldValue);
        else
            event =
                    new ServletRequestAttributeEvent(context.getServletContext(),
                            getRequest(), name, value);

        for (int i = 0; i < listeners.length; i++) {
            if (!(listeners[i] instanceof ServletRequestAttributeListener))
                continue;
            ServletRequestAttributeListener listener =
                    (ServletRequestAttributeListener) listeners[i];
            try {
                if (replaced) {
                    listener.attributeReplaced(event);
                } else {
                    listener.attributeAdded(event);
                }
            } catch (Throwable t) {
                context.getLogger().error(sm.getString("coyoteRequest.attributeEvent"), t);
                // Error valve will pick this execption up and display it to user
                attributes.put(Globals.EXCEPTION_ATTR, t);
            }
        }
    }
}